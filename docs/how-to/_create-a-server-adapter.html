<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  Copyright © 2013-2020 Metreeca srl. All rights reserved.

  This file is part of Metreeca/Link.

  Metreeca/Link is free software: you can redistribute it and/or modify it under the terms
  of the GNU Affero General Public License as published by the Free Software Foundation,
  either version 3 of the License, or(at your option) any later version.

  Metreeca/Link is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
  without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  See the GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License along with Metreeca/Link.
  If not, see <http://www.gnu.org/licenses/>.
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<!DOCTYPE html>
<html lang="en">
	<head><title>How To Create a Server Adapter | Metreeca Linked Data Framework</title>
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="shortcut icon" href="../index.svg">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/themes/prism.min.css">
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/components/prism-core.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.21.0/plugins/autoloader/prism-autoloader.min.js"></script>
		<link rel="stylesheet" type="text/css" href="../index.css">
	</head>
	<body><input id="toggle" type="checkbox">
		<nav>
			<header>
				<span><a href="https://www.metreeca.com/">metreeca</a><a href="../index.html">link<span>v0.53.0</span></a></span><label for="toggle"></label>
			</header>
			<section></section>
		</nav>
		<main>
			<header>How To Create a Server Adapter</header>
			<section>
				<ul>
					<li>
						<p>the framework</p>
						<ul>
							<li>expects a wrapping server to hande HTTP exchanges with the server</li>
							<li>is agnostic about the implementation of the wrapping server and doesn't expect to be
								interfaced over a specific API (e.g. Servlets)
							</li>
							<li>requires a server adapter to handle and convert HTTP requests and responses</li>
						</ul>
					</li>
					<li>
						<p>create a share tool manager (Vault)</p>
					</li>
					<li>
						<p>customize tool</p>
						<ul>
							<li>e.g to replace the system resource Loader</li>
						</ul>
					</li>
					<li>
						<p>create a server using tray.get(Server.Tool)</p>
					</li>
					<li>
						<p>convert incoming HTTP requests to link.Request objects</p>
						<ul>
							<li>populate root, target, user, headers, body, … as required</li>
						</ul>
					</li>
					<li>
						<p>create an empty link.Response object</p>
					</li>
					<li>
						<p>process the Request/Response pair</p>
					</li>
					<li>
						<p>convert Response to an outgoing HTTP response</p>
						<ul>
							<li>read from status, headers, body, … as required</li>
						</ul>
					</li>
					<li>
						<p>handle 0 response status</p>
						<ul>
							<li>
								<p>the linked data pipeline has no definition for the requested target resource</p>
							</li>
							<li>
								<p>the wrapping server has a chance to forward the request to other
									com.metreeca.rest.handlers (e.g. servlets)</p>
							</li>
							<li>
								<p>if unable/unwilling to forward must generate an appropriate response (e.g. 404 or
									501)</p>
								<pre><code>   When a request method is received that is unrecognized or not implemented by an origin server, the origin server SHOULD respond with the 501 (Not Implemented) status code.  When a request method is received that is known by an origin server but not allowed for the target resource, the origin server SHOULD respond with the 405 (Method Not Allowed) status code.
</code></pre>
							</li>
						</ul>
					</li>
				</ul>
			</section>
			<footer>© 2020 Metreeca srl. This work is licensed under the
				<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons BY-NC-SA 4.0 License</a>
			</footer>
		</main>
		<script type="text/javascript" src="../index.js"></script>
	</body>
</html>