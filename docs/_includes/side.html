{% comment %}

Default document sidebar

{% endcomment %}

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  Copyright Â© 2013-2018 Metreeca srl. All rights reserved.

  This file is part of Metreeca.

  Metreeca is free software: you can redistribute it and/or modify it under the terms
  of the GNU Affero General Public License as published by the Free Software Foundation,
  either version 3 of the License, or(at your option) any later version.

  Metreeca is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
  without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  See the GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License along with Metreeca.
  If not, see <http://www.gnu.org/licenses/>.
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<input id="toggle" type="checkbox"> <!-- hidden menu toggle for mobile view -->

<nav>

    <header>
        <a class="metreeca" href="https://www.metreeca.com/"></a>
        <label for="toggle" class="icon fa-bars"></label> <!-- icon dynamically managed by default.css -->
    </header>

    <div class="path">

        {% if page.module %} <!-- legacy navigation / to be removed -->

        <a href="/">Documentation</a>

        {% else %}

        <a href="/modules">Documentation</a>

        {% endif %}

        {% if page.module %} <!-- legacy navigation / to be removed -->

        <a href="/#version={{ page.version | uri_escape }}">Version {{ page.version }}</a>
        <a href="/#version={{ page.version | uri_escape }}&module={{ page.module | remove: 'Metreeca ' | uri_escape }}">{{
            page.module | remove: 'Metreeca ' }}</a>

        {% elsif page.layout != 'module' and page.project %} <!-- regular document -->

        <a href="/modules/{{ page.project }}/">{{ page.caption | remove: 'Metreeca ' }}</a>
        <a href="/modules/{{ page.project }}/{{ page.version }}/">Version {{ page.version }}</a>

        {% endif %}

        {% if page.title or page.caption %}

        <span onclick="document.querySelector('main > header').scrollIntoView()">{{ page.title | default: page.caption | remove: 'Metreeca ' }}</span>

        {% endif %}

    </div>

    {% if page.layout == 'module' %} <!-- module index -->

    <div class="versions"></div>

    {% endif %}

    <div class="toc">

        {% include toc.liquid html=content %}

    </div>

</nav>
